(this.webpackJsonpnearby_restaurants=this.webpackJsonpnearby_restaurants||[]).push([[0],[,,,,function(e,a,t){e.exports=t.p+"static/media/filledStar.298726f0.svg"},function(e,a,t){e.exports=t.p+"static/media/emptyStar.83ee06f8.svg"},function(e,a,t){e.exports=t.p+"static/media/currentLocation.ffe692f4.svg"},function(e,a,t){e.exports=t.p+"static/media/restaurantMarker.06e59673.svg"},function(e,a,t){e.exports=t(18)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(3),i=t.n(c),l=(t(13),t(14),t(1)),s=t(4),o=t.n(s),u=t(5),m=t.n(u);function p(e){var a,t=e.type,n=e.rating;return n&&(a=Math.round(n/5*100)),r.a.createElement("div",{className:"rating-".concat(t),style:n&&{width:"".concat(a,"%")}},new Array(5).fill(0).map((function(e,a){return r.a.createElement("img",{src:"empty"===t?m.a:o.a,alt:t,key:a})})))}t(15);function d(e){var a=e.restaurants;return r.a.createElement("div",{className:"all-restaurants"},r.a.createElement("div",{id:"map"}),null==a?r.a.createElement("div",null,"loading.."):a.map((function(e){var a=e.name,t=(e.icon,e.rating),n=e.user_ratings_total,c=e.vicinity,i=e.photos,l=(e.opening_hours,e.price_level),s=e.reference;return r.a.createElement("div",{className:"restaurant",key:s},r.a.createElement("div",{className:"title"},r.a.createElement("span",{className:"name"}," ",a)),t&&r.a.createElement("div",{className:"ratings"},r.a.createElement("span",{className:"number"},t),r.a.createElement("div",{className:"rating-wrap"},r.a.createElement(p,{type:"empty"}),r.a.createElement(p,{type:"fill",rating:t})),r.a.createElement("span",{className:"total-ratings"},"(",n,")"),l&&r.a.createElement("span",{className:"price"},new Array(l).fill(0).map((function(e){return"$"})))),i&&r.a.createElement("img",{src:i,width:350,height:200,alt:"img"}),r.a.createElement("div",{className:"address"},c))})))}t(16);var g=t(6),f=t.n(g),v=t(7),E=t.n(v),h=window.google;function y(e){var a=e.location,t=e.getCurrentLocation,c=e.setLocation,i=e.restaurants,l=Object(n.useRef)(null),s=Object(n.useRef)(null);Object(n.useEffect)((function(){o()}));var o=function(){var e=new h.maps.LatLng(a.latitude,a.longitude),t=new h.maps.Map(l.current,{zoom:15,center:new h.maps.LatLng(a.latitude,a.longitude)});if(new h.maps.Marker({position:e,title:"Current Location",map:t}),i){var n={url:E.a,size:new h.maps.Size(100,100),origin:new h.maps.Point(0,0),anchor:new h.maps.Point(17,34),scaledSize:new h.maps.Size(35,45)};i.forEach((function(e){var a=e.name,r=e.location;new h.maps.Marker({position:new h.maps.LatLng(r.lat,r.lng),title:a,animation:h.maps.Animation.DROP,icon:n,map:t})}))}u()},u=function(){var e=s.current,a=new h.maps.places.Autocomplete(e);a.setFields(["place_id","geometry","formatted_address"]),a.addListener("place_changed",(function(){var t=a.getPlace();if(t.geometry){var n={latitude:t.geometry.location.lat(),longitude:t.geometry.location.lng()};c(n),e.value=t.formatted_address}}))};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"location-searchbox"},r.a.createElement("input",{className:"searchbox",ref:s,type:"text",placeholder:"Search location"}),r.a.createElement("div",{className:"current-location",onClick:function(){return t()}},r.a.createElement("span",null,"  Use current location"),r.a.createElement("img",{src:f.a,className:"current-location-icon",alt:"get-location"}))),r.a.createElement("div",{className:"map-container",ref:l}))}t(17);var w=function(){var e=Object(n.useState)(null),a=Object(l.a)(e,2),t=a[0],c=a[1],i=Object(n.useState)(""),s=Object(l.a)(i,2),o=s[0],u=s[1],m=Object(n.useState)({latitude:23.7815222,longitude:90.4004866}),p=Object(l.a)(m,2),g=p[0],f=p[1],v=Object(n.useState)(3e3),E=Object(l.a)(v,2),h=E[0],w=E[1];Object(n.useEffect)((function(){!function(){var e=new window.google.maps.places.PlacesService(document.getElementById("map")),a={location:{lat:g.latitude,lng:g.longitude},radius:h,type:["restaurant"],name:o};e.nearbySearch(a,(function(e,a,t){a===window.google.maps.places.PlacesServiceStatus.OK?c(e.map((function(e){var a=e.icon,t=e.name,n=e.photos,r=e.price_level,c=e.rating,i=e.user_ratings_total,l=e.vicinity,s=e.geometry,o=(e.opening_hours,e.reference);return{icon:a,name:t,photos:n?n[0].getUrl():null,price_level:r,rating:c,user_ratings_total:i,vicinity:l,reference:o,location:{lat:s.location.lat(),lng:s.location.lng()}}}))):"ZERO_RESULTS"===a&&c([])}))}()}),[g,h,o]);return r.a.createElement("div",{className:"home"},r.a.createElement(y,{location:g,restaurants:t,getCurrentLocation:function(){navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){f(e.coords)}))},setLocation:f,radius:h}),r.a.createElement("div",{className:"search-restaurants"},r.a.createElement("input",{type:"text",id:"restaurant",className:"restaurants-search-input",value:o,placeholder:"Search Restaurants...",onChange:function(e){return u(e.target.value)}}),r.a.createElement("div",{className:"radius-field"},r.a.createElement("span",{className:"label"},"Distance"),r.a.createElement("input",{min:10,step:100,max:2e4,id:"radius",type:"range",value:h,onChange:function(e){return w(e.target.value)}}),r.a.createElement("span",{className:"distance"},(h/1e3).toFixed(2)," km"))),r.a.createElement("h3",{className:"header"},"  Available Restaurants  "),r.a.createElement(d,{restaurants:t}))};var N=function(){return r.a.createElement(w,null)};i.a.render(r.a.createElement(N,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.db316f9b.chunk.js.map